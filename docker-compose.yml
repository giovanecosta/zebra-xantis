version: '2'

services:
  postgres:
    image: 'postgres:10.3-alpine'
    ports:
      - '5432:5432'
    environment:
      - TZ=America/Sao_Paulo
      - POSTGRES_PASSWORD=postgres
  front:
    build:
      context: front
    depends_on:
      - 'back'
    ports:
      - '3000:3000'
    volumes:
      - './front:/app'
    entrypoint:
      'sh -c "tail -f /dev/null"'
  back:
    build:
      context: back
    ports:
      - '4000:4000'
    volumes:
      - './back:/app'
    depends_on:
      - 'postgres'
    links:
      - 'postgres'
    entrypoint:
      'sh -c "tail -f /dev/null"'
